name: AzPScontainerAction
on: [workflow_dispatch]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: Check out repository
      uses: actions/checkout@v2
    - name: Run Azure PowerShell script
      uses: docker://mcr.microsoft.com/azure-powershell:latest
      with:
        entrypoint: pwsh
        args: -File ./scripts/RGquery.ps1
        working-directory: ${{ github.workspace }}


# Works
#       entrypoint: pwsh
#       args: -Command Get-Process   

#       args: -File ./scripts/RGquery.ps1  #The argument './scripts/RGquery.ps1' is not recognized as the name of a script file.


#       run: pwsh -Command ls -l  #Doesn't show the repository mounted      